<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="/assets/images/favicon.ico">
    <title>Adjust LED brightness | snap:bit</title>
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Adjust LED brightness | snap:bit</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Adjust LED brightness" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Shows how to change the brightness of the connected LED by writing an analog signal to the micro:bit pin. Pressing button A decreases the brightness. Pressing button B increases the brightness." />
<meta property="og:description" content="Shows how to change the brightness of the connected LED by writing an analog signal to the micro:bit pin. Pressing button A decreases the brightness. Pressing button B increases the brightness." />
<meta property="og:site_name" content="snap:bit" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-17T21:09:49+00:00" />
<script type="application/ld+json">
{"description":"Shows how to change the brightness of the connected LED by writing an analog signal to the micro:bit pin. Pressing button A decreases the brightness. Pressing button B increases the brightness.","@type":"BlogPosting","url":"/projects/adjust-led-brightness.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/images/logo.png"}},"headline":"Adjust LED brightness","dateModified":"2019-05-17T21:09:49+00:00","datePublished":"2019-05-17T21:09:49+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/projects/adjust-led-brightness.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
        integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Rubik:400,400i,500,500i,700,700i" rel="stylesheet">
    <link href="/assets/css/theme.css" rel="stylesheet">
    <link href="/assets/css/custom.css" rel="stylesheet">

    

    
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', '', 'auto');
        ga('send', 'pageview');
    </script>
    



</head>





<body class="layout-project">


    <!-- Begin Menu Navigation
================================================== -->
    <header class="navbar navbar-toggleable-md navbar-light bg-white fixed-top mediumnavigation">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
            data-target="#navbarsWow" aria-controls="navbarsWow" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="container">

            <!-- Begin Logo -->
            <a class="navbar-brand" href="/">
                <img src="/assets/images/logo.png" alt="snap:bit">
            </a>
            <!-- End Logo -->

            <!-- Begin Menu -->
            <div class="collapse navbar-collapse" id="navbarsWow">

                <!-- Begin Menu -->
                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="/features">Meet snap:bit</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/projects">Projects</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/buy">Buy</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>

                </ul>
                <!-- End Menu -->

            </div>
        </div>
    </header>



    <!-- End Menu Navigation
================================================== -->

    <div class="site-content">

        <div class="container">

            <!-- Site Title
    ================================================== -->

            <div class="mainheading" style="display:none;">
                <h1 class="sitetitle">snap:bit</h1>
                <p class="lead">
                    Combine BBC micro:bit with Snap Circuits
                </p>
            </div>


            <!-- Content
    ================================================== -->
            <div class="main-content">
                <section class="row">

    <div class="col-sm-4">
        <div class="sidebar">

    <div class="sidebar-section">
        <h5><span>Newsletter</span></h5>
        <!-- Go to your Mailchimp account/Lists/Sign Up Forms/Embedded forms and replace the code below with your own  -->

<!-- Begin MailChimp Signup Form -->
<link href="https://cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup {
		background: #fff;
		clear: left;
	}

	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
	<form action="https://wowthemes.us11.list-manage.com/subscribe/post?u=8aeb20a530e124561927d3bd8&amp;id=8c3d2d214b"
		method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
		novalidate>
		<div id="mc_embed_signup_scroll">
			<h2>Sign up to get notified when we add new projects</h2>

			<div class="mc-field-group">
				<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"
					placeholder="E-mail Address">
			</div>
			<div id="mce-responses" class="clear">
				<div class="response" id="mce-error-response" style="display:none"></div>
				<div class="response" id="mce-success-response" style="display:none"></div>
			</div>
			<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
			<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
					name="b_8aeb20a530e124561927d3bd8_8c3d2d214b" tabindex="-1" value=""></div>
			<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
					class="button"></div>
		</div>
	</form>
</div>
<script type='text/javascript' src='https://s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
<script
	type='text/javascript'>(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[3] = 'MMERGE3'; ftypes[3] = 'text'; fnames[1] = 'MMERGE1'; ftypes[1] = 'text'; fnames[2] = 'MMERGE2'; ftypes[2] = 'text'; fnames[4] = 'MMERGE4'; ftypes[4] = 'text'; fnames[5] = 'MMERGE5'; ftypes[5] = 'text'; }(jQuery)); var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->
    </div>

    
    
    <div class="sidebar-section">
        <h5><span>Required components</span></h5>
        <ul>
            <li>1 x micro:bit</li>
            <li>1 x snap:bit</li>
            
            
            
            
            
            
            <li>1 x Battery Holder (B1)</li>
            
            
            
            
            
            
            <li>1 x Slide Switch (S1)</li>
            
            
            
            
            
            
            <li>1 x Red LED (D1)</li>
            
            
            
            
            
            
            <li>1 x 1-Snap Wire</li>
            
            
            
            
            
            
            <li>3 x 3-Snap Wire</li>
            
        </ul>
    </div>
    

</div>
    </div>

    <div class="col-sm-8">

        <div class="posttitle">
            <h2><span>Adjust LED brightness</span></h2>
        </div>

        <div class="article-post">
            Shows how to change the brightness of the connected LED by writing an analog signal to the micro:bit pin. Pressing button A decreases the brightness. Pressing button B increases the brightness.
        </div>

        
        <div class="project-diagram">
            <img src="/assets/diagrams/led.svg" alt="Adjust LED brightness">
        </div>
        <div class="article-post">
            Build the circuit shown on the diagram above.
        </div>
        

        
        <p></p>
        <div class="article-post">
            Download the code shown below to your micro:bit. Use the "Download" link at the bottom of the embedded code
            editor.
        </div>
        <div class="project-makecode" style="position:relative;height:0;padding-bottom:70%;overflow:hidden;">
            <iframe style="position:absolute;top:0;left:0;width:100%;height:100%;"
                src="https://makecode.microbit.org/#pub:_T3m6EC7dMWcw" frameborder="0"
                sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe>
        </div>
        <div class="article-post">
            After downloading the code, disconnect all cables from your micro:bit. Both the USB and the battery pack
            must be disconnected from the micro:bit.
        </div>
        <p></p>
        

        <div class="article-post">
            <p>When you close the slide switch (S1), the Battery Holder (B1) powers the snap:bit through the 3V snap and the micro:bit turns on. The “on start” event triggers and the micro:bit sets the brightness level to 5 and calls the “set brightness” function.</p>

<p>The “set brightness” function writes an analog signal to pin P1 to turn the LED on. The value of the analog signal determines how much current will flow from pin P1 to the LED. The more current flows, the higher the brightness of the LED is. The analog signal can take values between 0 and 1023. If analog signal 0 is written, the LED turns off. If analog signal 1023 is written, the LED lights in its full brightness. If a value like 128 is written then the LED lights in around half of its brightness.</p>

<p>Compare this to the digital signal used in the <a href="press-switch-turns-led.html">Turn LED on and off using the press switch</a> project. Digital signal 0 is equivalent to analog signal 0, and digital signal 1 is equivalent to analog signal 1023.</p>

<p>The brightness of the LED does not depend on the current linearly, but rather exponentially. In other words, changing the analog value in the range between 0 and 200 is significantly more noticeable than in the range between 200 and 1023. Therefore, we use the brightness level as the exponent in this <a href="https://en.wikipedia.org/wiki/Power_of_two">power of 2</a> formula: 2<sup>n</sup> - 1.</p>

<p>Level 0 gives 2<sup>0</sup> - 1 = 1 - 1 = 0, i.e. the LED is off.</p>

<p>Level 10 gives 2<sup>10</sup> - 1 = 1024 - 1 = 1023, i.e. the LED is at its full brightness.</p>

<p>This table shows how the brightness level is converted to the value of the analog signal sent to pin P1:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Level</th>
      <th style="text-align: center">Formula</th>
      <th style="text-align: right">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: center">2<sup>0</sup>  - 1 =    1 - 1</td>
      <td style="text-align: right">0</td>
    </tr>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: center">2<sup>1</sup>  - 1 =    2 - 1</td>
      <td style="text-align: right">1</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: center">2<sup>2</sup>  - 1 =    4 - 1</td>
      <td style="text-align: right">3</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: center">2<sup>3</sup>  - 1 =    8 - 1</td>
      <td style="text-align: right">7</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: center">2<sup>4</sup>  - 1 =   16 - 1</td>
      <td style="text-align: right">15</td>
    </tr>
    <tr>
      <td style="text-align: right">5</td>
      <td style="text-align: center">2<sup>5</sup>  - 1 =   32 - 1</td>
      <td style="text-align: right">31</td>
    </tr>
    <tr>
      <td style="text-align: right">6</td>
      <td style="text-align: center">2<sup>6</sup>  - 1 =   64 - 1</td>
      <td style="text-align: right">63</td>
    </tr>
    <tr>
      <td style="text-align: right">7</td>
      <td style="text-align: center">2<sup>7</sup>  - 1 =  128 - 1</td>
      <td style="text-align: right">127</td>
    </tr>
    <tr>
      <td style="text-align: right">8</td>
      <td style="text-align: center">2<sup>8</sup>  - 1 =  256 - 1</td>
      <td style="text-align: right">255</td>
    </tr>
    <tr>
      <td style="text-align: right">9</td>
      <td style="text-align: center">2<sup>9</sup>  - 1 =  512 - 1</td>
      <td style="text-align: right">511</td>
    </tr>
    <tr>
      <td style="text-align: right">10</td>
      <td style="text-align: center">2<sup>10</sup> - 1 = 1024 - 1</td>
      <td style="text-align: right">1023</td>
    </tr>
  </tbody>
</table>

<p><br />
The “set brightness” function uses the 2<sup>n</sup> - 1 formula to convert the current brightness level (the “level” variable) to the analog value to be written to pin P1. The “set brightness” function also plots the current brightness level to the LED screen of the micro:bit as an extra visual indication.</p>

<p>Pressing button A on the micro:bit decreases the current brightness level by 1 and calls the “set brightness” function to update the brightness of the LED. Note the “if” statement that limits the minimum brightness level to 0.</p>

<p>Pressing button B on the micro:bit increases the current brightness level by 1 and calls the “set brightness” function to update the brightness of the LED. Note the “if” statement that limits the maximum brightness level to 10.</p>

        </div>

        <!-- Prev/Next -->
        <div class="row PageNavigation mt-4 prevnextlinks">
            <div class="col-md-6 rightborder pl-0">
                
                <a class="thepostlink" href="/projects/blinking-led.html">&laquo; Blinking LED</a>
                
            </div>
            <div class="col-md-6 text-right pr-0">
                
                <a class="thepostlink" href="/projects/pulsing-led.html">Pulsing LED &raquo;</a>
                
            </div>
        </div>
        <!-- End Prev/Next -->
    </div>

</section>
            </div>

        </div><!-- /.container -->



        <!-- Before Footer
    ================================================== -->
        <div class="beforefooter">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <h3>Take the most of your BBC micro:bit and Snap Circuits educational kits!</h3>
                        <p>Inspire your kids with more hours of exciting projects by combining electronics and coding!
                        </p>
                        <a class="btn btn-primary btn-lg" href="/buy">Get your snap:bit</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Begin Footer
    ================================================== -->
        <footer class="footer">

            <div class="container">

                <div class="row">
                    <div class="col-sm-3">
                        <div class="footer-widget">
                            <a href="/contact">
                                <img src="/assets/images/logo-footer.png" alt="Contact">
                            </a>
                        </div>
                    </div>

                    <div class="col-sm-3">
                        <div class="footer-widget">
                            <h5 class="title">What is snap:bit</h5>
                            <ul>
                                <li><a href="/features">Features</a></li>
                                <li><a href="/projects">Projects</a></li>
                                <li><a href="/about">Who is making it</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-sm-3">
                        <div class="footer-widget">
                            <h5 class="title">Buy snap:bit</h5>
                            <ul>
                                <li><a href="/buy">For me</a></li>
                                <li><a href="/buy">For my class</a></li>
                                <li><a href="/buy">For my shop</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="copyright">
                    <p class="pull-left">
                        Copyright © 2019 Snap Bit Ltd.
                    </p>
                    <div class="clearfix"></div>
                </div>

            </div>

        </footer>
        <!-- End Footer
    ================================================== -->


    </div>
    <!-- /.site-content>

<!-- JavaScript
================================================== -->

    <script src="/assets/js/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>

    <script src="/assets/js/ie10-viewport-bug-workaround.js"></script>

    <script type='text/javascript' src='/assets/js/masonry.pkgd.min.js'></script>

    <script src="/assets/js/theme.js"></script>

</body>

</html>